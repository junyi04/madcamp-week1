# ë°ˆí¬í‹°

> ë‚œ ì•„ì§ ì Šë‹¤! ì Šì€ ì„¸ëŒ€ì™€ í•¨ê»˜ ê±¸ì–´ê°€ëŠ” ìµœì‹  ìœ í–‰ ë°ˆ íë ˆì´ì…˜ ì•±

## ğŸ“± ì†Œê°œ

**ì˜í¬í‹° ë°ˆ ì €ì¥ì†Œ**ëŠ” 20ëŒ€ì™€ í•¨ê»˜ ê±¸ì–´ê°€ê³  ì‹¶ì€, í˜¹ì€ ì•„ì§ë„ 20ëŒ€ì¸ ê²ƒ ê°™ì´ ì‚´ê³  ì‹¶ì€ ì‚¬ëŒë“¤ì„ ìœ„í•œ ìµœì‹  ìœ í–‰ ë°ˆ íë ˆì´ì…˜ ì•±ì…ë‹ˆë‹¤. í‹±í†¡ í¬ë¡¤ë§ì„ ê¸°ë°˜ìœ¼ë¡œ ë§¤ì¼ ìì • Top 10 ë°ˆ ì˜ìƒì„ ì—…ë°ì´íŠ¸í•˜ì—¬, í•­ìƒ ìµœì‹  íŠ¸ë Œë“œë¥¼ ë†“ì¹˜ì§€ ì•Šë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.

### âœ¨ ì£¼ìš” íŠ¹ì§•

- **ë§¤ì¼ Top 10 ì—…ë°ì´íŠ¸**: í‹±í†¡ í¬ë¡¤ë§ ê¸°ë°˜ìœ¼ë¡œ ë§¤ì¼ ìì • ê°€ì¥ í•«í•œ ë°ˆ Top 10 ìë™ ì—…ë°ì´íŠ¸
- **ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜**: ì¶¤, ì±Œë¦°ì§€, ìŒì‹, TTS ë‹¤ì–‘í•œ ì¹´í…Œê³ ë¦¬ë¡œ êµ¬ì„±ëœ ë°ˆ ì»¬ë ‰ì…˜
- **ì¶œì„ì²´í¬ ì‹œìŠ¤í…œ**: ë§¤ì¼ ë°©ë¬¸ ë³´ìƒ ë° ì—°ì† ì¶œì„ ë‹¬ë ¥ ì œê³µ
- **ì•Œë¦¼ ê¸°ëŠ¥**: ìƒˆë¡œìš´ ë°ˆ ì—…ë°ì´íŠ¸ ì‹œ í‘¸ì‹œ ì•Œë¦¼ìœ¼ë¡œ ì‹¤ì‹œê°„ ì•Œë¦¼
- **ë ˆíŠ¸ë¡œ UI**: ì‚¬ì´ë²„í‘í¬ ê°ì„±ì˜ ë…íŠ¹í•œ ë””ìì¸


---
## ğŸš€ ì‹œì‘í•˜ê¸°

### ìµœì´ˆ ì‹¤í–‰ í”Œë¡œìš°

ì•±ì„ ì²˜ìŒ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒ ìˆœì„œë¡œ ì§„í–‰ë©ë‹ˆë‹¤:

1. **ì˜¨ë³´ë”© í™”ë©´** (ìµœì´ˆ 1íšŒ)
    - ì•±ì˜ ì£¼ìš” ê¸°ëŠ¥ ì†Œê°œ
    - 3ë‹¨ê³„ ìŠ¤í…ìœ¼ë¡œ êµ¬ì„±ëœ ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œ

2. **ì•ŒëŒ ì„¤ì •**
    - ë§¤ì¼ ìì • Top 10 ì—…ë°ì´íŠ¸ ì•Œë¦¼ ì„¤ì •

3. **ì¶œì„ì²´í¬ ëª¨ë‹¬**
    - ì²« ë°©ë¬¸ ë³´ìƒ ë° ì¶œì„ ì‹œìŠ¤í…œ ì•ˆë‚´

---

## ğŸ“‹ ì£¼ìš” ê¸°ëŠ¥

### 1. í™ˆ í™”ë©´ (Top 10)

![Home Screen](https://via.placeholder.com/800x400?text=Top+10+Screen)

- **ë§¤ì¼ ìì • ì—…ë°ì´íŠ¸**: í‹±í†¡ì—ì„œ ê°€ì¥ ì¸ê¸° ìˆëŠ” ë°ˆ Top 10ì„ ë§¤ì¼ ìë™ ì—…ë°ì´íŠ¸
- **ì˜ìƒ ì •ë³´ í‘œì‹œ**:
    - ì¸ë„¤ì¼ ì´ë¯¸ì§€
    - ìˆœìœ„ í‘œì‹œ
    - ì œëª© ë° ì¡°íšŒìˆ˜
    - ì¹´í…Œê³ ë¦¬ íƒœê·¸
- **ì¸í„°ë™ì…˜**:
    - **ë³´ê¸° ë²„íŠ¼**: í‹±í†¡ ì•±ìœ¼ë¡œ ë°”ë¡œ ì´ë™í•˜ì—¬ ì˜ìƒ ì‹œì²­
    - **ì¢‹ì•„ìš” ë²„íŠ¼**: ê´€ì‹¬ ìˆëŠ” ë°ˆ ì €ì¥

### 2. ì¹´í…Œê³ ë¦¬ í™”ë©´

![Categories Screen](https://via.placeholder.com/800x400?text=Categories+Screen)

4ê°€ì§€ ì£¼ìš” ì¹´í…Œê³ ë¦¬ë¡œ êµ¬ì„±:
- **ì¶¤**: ìœ í–‰í•˜ëŠ” ëŒ„ìŠ¤ ì±Œë¦°ì§€
- **ì±Œë¦°ì§€**: ë°”ì´ëŸ´ ì±Œë¦°ì§€ ëª¨ìŒ
- **ìŒì‹**: ë¨¹ë°© ë° ìŒì‹ ê´€ë ¨ ë°ˆ
- **TTS**: Text-to-Speech ê¸°ë°˜ ë°ˆ

ê° ì¹´í…Œê³ ë¦¬ë³„ë¡œ ì •ë¦¬ëœ ì˜ìƒ ë¦¬ìŠ¤íŠ¸ë¥¼ íƒ­ìœ¼ë¡œ ì „í™˜í•˜ë©° íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 3. ì¶œì„ì²´í¬ í™”ë©´

![Attendance Screen](https://via.placeholder.com/800x400?text=Attendance+Screen)

- **ë‹¬ë ¥ UI**: ì›”ê°„ ì¶œì„ í˜„í™© í•œëˆˆì— í™•ì¸
- **ì¶œì„ í†µê³„**:
    - ì´ ì¶œì„ì¼ ìˆ˜
    - ì—°ì† ì¶œì„ ì¼ìˆ˜
    - ì¶œì„ ë³´ìƒ ì ìˆ˜
- **ìë™ ì¶œì„**: ì•± ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ ì˜¤ëŠ˜ ì¶œì„ ì²´í¬
- **ë³´ìƒ ì‹œìŠ¤í…œ**: ì—°ì† ì¶œì„ ì‹œ íŠ¹ë³„ ë³´ìƒ ì œê³µ

### 4. 3ì»· ë§Œí™” í™”ë©´

- ìˆœìˆ˜ ì¬ë¯¸ë¥¼ ìœ„í•œ 3ì»· ë§Œí™”
- **ì˜í¬í‹°** ì•„ììŠ¤! 

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
### Client
---
#### Android

- **Language**: Kotlin 2.0.21
- **Min SDK**: API 24 (Android 7.0)
- **Target SDK**: API 34 (Android 14)

#### UI Framework

- **Jetpack Compose**: ëª¨ë˜í•œ UI êµ¬í˜„ (ì¶œì„ì²´í¬, ì˜¨ë³´ë”©)
- **Material Design 3**: ì¼ê´€ëœ ë””ìì¸ ì‹œìŠ¤í…œ
- **XML Layouts**: ê¸°ì¡´ ë·° ì‹œìŠ¤í…œ í™œìš©

#### ë„¤íŠ¸ì›Œí‚¹
- **Retrofit2**: FAST API ì„œë²„ í†µì‹  
- **Gson Converter**: JSON ë°ì´í„° íŒŒì‹±

#### ì´ë¯¸ì§€ ë¡œë”©
- **Glide 4.16.0**: íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ìºì‹± ë° ë¡œë”©

#### UI Components
- **RecyclerView**: ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
- **ConstraintLayout**: ë³µì¡í•œ ë ˆì´ì•„ì›ƒ êµ¬ì„±
- **Material Components**: Material Design 3 ì»´í¬ë„ŒíŠ¸

#### Jetpack Compose
- **Compose BOM 2024.02.00**
- **Material3**: Composeìš© Material Design 3
- **Material Icons Extended**: í™•ì¥ ì•„ì´ì½˜ ì„¸íŠ¸
---
### Backend
---
#### Server
- **Language**: Python 3.8+
- **Architecture**: REST API Architecture

#### Framework & Server
- **FastAPI**: ê³ ì„±ëŠ¥ ë¹„ë™ê¸° REST API ì„œë²„ êµ¬ì¶•
- **Uvicorn**: ASGI ì›¹ ì„œë²„ (FastAPI êµ¬ë™)
- **APScheduler**: ë§¤ì¼ ìì • í¬ë¡¤ë§ íŒŒì´í”„ë¼ì¸ ìë™í™”

#### Database & Infra
- **MySQL 8.0**: ë©”íƒ€ë°ì´í„° ì˜êµ¬ ì €ì¥ ë° 3ì¼ ì£¼ê¸° ë°ì´í„° ê´€ë¦¬
- **ngrok**: HTTPS í„°ë„ë§ì„ í†µí•œ ì™¸ë¶€ ì ‘ì† í™˜ê²½ ì œê³µ

#### AI & Machine Learning
- **PyTorch & torchvision**: ë”¥ëŸ¬ë‹ ëª¨ë¸(ResNet50) êµ¬ë™ ë° ì¶”ë¡ 
- **FaceNet**: ì–¼êµ´ íŠ¹ì§• ì¶”ì¶œ ë° ìœ ì‚¬ë„ ë¶„ì„
- **Google Cloud Translation API**: í•œêµ­ì–´ ì½˜í…ì¸  ì´ì¤‘ ê²€ì¦(NLP)

#### Crawling
- **Playwright**: ë„¤íŠ¸ì›Œí¬ íŒ¨í‚· ì¸í„°ì…‰íŠ¸ ê¸°ë°˜ ê³ í’ˆì§ˆ ë°ì´í„° ìˆ˜ì§‘
---

## ğŸ”§ ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Android Studio Hedgehog (2023.1.1) ì´ìƒ
- JDK 17 ì´ìƒ
- Android SDK API 34
- Python 3.8 ì´ìƒ
- MySQL 8.0 ì´ìƒ
- Chrome Browser (Playwrightìš©)

### ì„¤ì¹˜ ë°©ë²•

1. **ì €ì¥ì†Œ í´ë¡ **
```bash
git clone https://github.com/yourusername/madcamp_week1.git
cd madcamp_week1
```

2. **ì„œë²„ ì—°ë™ ì„¤ì • (FastAPI & Ngrok)**
    - í•„ìˆ˜: ë°±ì—”ë“œ(main.py) ì‹¤í–‰ í›„ ìƒì„±ëœ ngrok URLì´ í•„ìš”
    - ngrokì—ì„œ í† í°ì„ ë°›ì•„ì™€ ngrok.yml ë„£ê³  ì €ì¥
    - ì„œë²„ ì‹¤í–‰ì‹œ
    > ngrok http 8001
3. **ì„œë²„ URL ì„¤ì •**

   `MainActivity.kt`, `CategoriesActivity.kt`ì—ì„œ ngrok URL ì„¤ì •:
   ```kotlin
   val ngrokUrl = "https://your-ngrok-url.ngrok-free.dev/"
   ```

4. **ë¹Œë“œ ë° ì‹¤í–‰**
```bash
./gradlew assembleDebug
```

ë˜ëŠ” Android Studioì—ì„œ `Run` ë²„íŠ¼ í´ë¦­

---

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸

### Base URL
```
https://your-server.ngrok-free.dev/
# (ì£¼ì˜: ngrok ì‹¤í–‰ ì‹œë§ˆë‹¤ ë³€ê²½ë˜ëŠ” ë„ë©”ì¸ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤)
```

### Endpoints

#### 1. Top 10 ì˜ìƒ ì¡°íšŒ
```http
GET /top10
```

**Response:**
```json
[
  {
    "id": "dance05",
    "title": "ì œëª©",
    "author": "ì‘ì„±ì",
    "views": 1234567,
    "likes": 50000,
    "url": "https://tiktok.com/@user/video/123",
    "imageFile": "imageFile": "https://your-server.ngrok-free.dev/2026-01-14/main/top10/thumbnails/dance05.jpg",
    "category": "dance"
  }
]
```

#### 2. ì¹´í…Œê³ ë¦¬ë³„ ì˜ìƒ ì¡°íšŒ
```http
GET /api/category/{name}
```

**Parameters:**
- `name`: `dance` | `challenge` | `food` | `tts`

**Response:**
```json
[
  {
    "id": "dance05",
    "title": "ì±Œë¦°ì§€ ì œëª©",
    "author": "ì‘ì„±ì",
    "views": 987654,
    "likes": 30000,
    "url": "https://tiktok.com/@user/video/456",
    "imageFile": "https://your-server.ngrok-free.dev/2026-01-14/dance/top10/thumbnails/dance05.jpg",
    "category": "dance"
  }
]
```

---

## ğŸ“¦ ì£¼ìš” ì˜ì¡´ì„±

```toml
[versions]
kotlin = "2.0.21"
agp = "8.9.1"
compose-bom = "2024.02.00"
retrofit = "2.9.0"
glide = "4.16.0"
firebase-bom = "33.7.0"

[libraries]
# Networking
retrofit = "com.squareup.retrofit2:retrofit:2.9.0"
retrofit-converter-gson = "com.squareup.retrofit2:converter-gson:2.9.0"

# Image Loading
glide = "com.github.bumptech.glide:glide:4.16.0"

# Firebase
firebase-bom = "com.google.firebase:firebase-bom:33.7.0"
firebase-analytics = "com.google.firebase:firebase-analytics"
firebase-messaging = "com.google.firebase:firebase-messaging"
firebase-firestore = "com.google.firebase:firebase-firestore-ktx"

# Compose
compose-bom = "androidx.compose:compose-bom:2024.02.00"
material3 = "androidx.compose.material3:material3"
```

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„

### 1. ì˜¨ë³´ë”© ì‹œìŠ¤í…œ

ì²« ì‹¤í–‰ ì‹œ 3ë‹¨ê³„ ì˜¨ë³´ë”© ì œê³µ:
- Step 1: ì•± ì†Œê°œ ë° ì£¼ìš” ê¸°ëŠ¥
- Step 2: ì¹´í…Œê³ ë¦¬ ì„¤ëª…
- Step 3: ì¶œì„ ì²´í¬ ì‹œìŠ¤í…œ ì•ˆë‚´

```kotlin
OnboardingModal(
    isOpen = showOnboarding,
    onComplete = { 
        // ì˜¨ë³´ë”© ì™„ë£Œ ì²˜ë¦¬
    }
)
```

### 2. ìë™ ì¶œì„ ì²´í¬

ì•± ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ ì˜¤ëŠ˜ ì¶œì„ ì²´í¬:

```kotlin
override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    attendanceManager = AttendanceManager(this)
    attendanceManager.checkTodayAttendance()
}
```

### 3. ì•Œë¦¼ ìŠ¤ì¼€ì¤„ë§

ë§¤ì¼ ìì • ì•Œë¦¼ ì„¤ì •:

```kotlin
class NotificationReceiver : BroadcastReceiver() {
    override fun onReceive(context: Context, intent: Intent) {
        // ì•Œë¦¼ ë°œì†¡ ë¡œì§
    }
}
```

### 4. ë™ì  ì¹´í…Œê³ ë¦¬ ë¡œë”©

íƒ­ ì„ íƒ ì‹œ ì„œë²„ì—ì„œ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ë¡œë“œ:

```kotlin
private fun fetchCategoryDataFromServer(categoryName: String, uiTitle: String) {
    apiService.getCategoryData(categoryName).enqueue(object : Callback<List<VideoData>> {
        override fun onResponse(call: Call<List<VideoData>>, response: Response<List<VideoData>>) {
            // ë°ì´í„° ì—…ë°ì´íŠ¸
        }
    })
}
```

### 5. ì„œë²„ ì´ë¯¸ì§€ ë Œë”ë§ (Glide)

FastAPI ì„œë²„(Ngrok)ì—ì„œ ì„œë¹™í•˜ëŠ” ë¡œì»¬ ì´ë¯¸ì§€ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ë¡œë”© ë° ìºì‹±:

~~~
Glide.with(context)
    .load(videoData.imageFile) // ì„œë²„ì˜ ngrok URL (ì˜ˆ: https://.../dance01.jpg)
    .diskCacheStrategy(DiskCacheStrategy.ALL) // ë¦¬ì†ŒìŠ¤ ì ˆì•½ì„ ìœ„í•œ ìºì‹±
    .placeholder(R.drawable.placeholder)
    .into(binding.thumbnailImageView)
~~~

### 6. í‹±í†¡ ë”¥ë§í¬ ì—°ë™ (Intent)

'ë³´ê¸°' ë²„íŠ¼ í´ë¦­ ì‹œ í‹±í†¡ ì•±ìœ¼ë¡œ ë°”ë¡œ ì´ë™í•˜ê±°ë‚˜ ì›¹ìœ¼ë¡œ ì—°ê²°:

~~~
val intent = Intent(Intent.ACTION_VIEW, Uri.parse(videoData.url))
try {
    // í‹±í†¡ ì•±ì´ ì„¤ì¹˜ë˜ì–´ ìˆìœ¼ë©´ ì•±ìœ¼ë¡œ ì‹¤í–‰
    startActivity(intent)
} catch (e: ActivityNotFoundException) {
    // ì—†ìœ¼ë©´ ë¸Œë¼ìš°ì €ë¡œ í‹±í†¡ ì›¹í˜ì´ì§€ ì‹¤í–‰
    startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(videoData.url)))
}
~~~

### 7. [Backend] AI ì¤‘ë³µ ì œê±° íŒŒì´í”„ë¼ì¸

ResNet50ê³¼ FaceNetì„ í™œìš©í•˜ì—¬ ìˆ˜ì§‘ëœ ë°ˆì˜ ì´ë¯¸ì§€ ìœ ì‚¬ë„ë¥¼ ë¶„ì„, ì¤‘ë³µ ì½˜í…ì¸ (ìœ ì‚¬ë„ 0.82 ì´ìƒ)ë¥¼ ìë™ í•„í„°ë§:

~~~
# cnn_pic_dec.py (Core Logic)
def check_duplicate(new_img_path, existing_imgs):
    vec1 = get_feature_vector(new_img_path) # ResNet50 íŠ¹ì§• ì¶”ì¶œ
    
    for img in existing_imgs:
        vec2 = get_feature_vector(img)
        similarity = cosine_similarity(vec1, vec2)
        
        if similarity > 0.82: # ì„ê³„ê°’ ì´ˆê³¼ ì‹œ ì¤‘ë³µ íŒì •
            return True, img
            
    return False, None
~~~

### 8. [Backend] ì§€ëŠ¥í˜• í¬ë¡¤ë§ (Playwright)

ë´‡ íƒì§€ë¥¼ ìš°íšŒí•˜ê³  ë„¤íŠ¸ì›Œí¬ íŒ¨í‚·ì„ ì§ì ‘ ê°€ë¡œì±„ì–´(Interception) ê³ í’ˆì§ˆ ë°ì´í„° ìˆ˜ì§‘:

~~~
# crawling.py
async def intercept_response(route, request):
    if "/api/recommend/item_list" in request.url:
        data = await route.fetch()
        json_data = await data.json()
        
        # ì¡°íšŒìˆ˜ 10ë§Œ ì´ìƒ & í•œêµ­ì–´ ì˜ìƒë§Œ í•„í„°ë§í•˜ì—¬ ì €ì¥
        process_video_data(json_data) 
        
    await route.continue_()
~~~

### 9. [Backend] ë°ì´í„° ìˆ˜ëª… ì£¼ê¸° ê´€ë¦¬ (MySQL)

FastAPI ì„œë²„ì™€ MySQLì„ ì—°ë™í•˜ì—¬ ë°ì´í„°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ê³ , ìµœì‹  íŠ¸ë Œë“œ ìœ ì§€ë¥¼ ìœ„í•´ 3ì¼ì´ ì§€ë‚œ ë°ì´í„°(íŒŒì¼ ë° DB ë¡œê·¸)ë¥¼ ìë™ìœ¼ë¡œ ì†Œê°í•˜ëŠ” ë¡œì§ êµ¬í˜„:

~~~
# top10_filter.py (Data Retention Policy)
def cleanup_old_data(conn):
    cursor = conn.cursor()
    # 3ì¼ ì „ ë‚ ì§œ ê³„ì‚°
    limit_date = (datetime.now() - timedelta(days=3)).strftime('%Y-%m-%d')
    
    # 1. DB ë©”íƒ€ë°ì´í„° ì‚­ì œ
    sql = "DELETE FROM tiktok_videos WHERE DATE(created_at) < %s"
    cursor.execute(sql, (limit_date,))
    
    # 2. ë¡œì»¬ ì´ë¯¸ì§€ íŒŒì¼ ì‚­ì œ (ìŠ¤í† ë¦¬ì§€ ìµœì í™”)
    if os.path.exists(old_folder_path):
        shutil.rmtree(old_folder_path)
        
    conn.commit()
~~~
---

## ğŸ‘¥ ê°œë°œíŒ€

- **í”„ë¡œì íŠ¸ ê¸°ê°„**: KAIST ëª°ì…ìº í”„ Week 1
- **ê°œë°œ í™˜ê²½**: Android Studio, Kotlin
